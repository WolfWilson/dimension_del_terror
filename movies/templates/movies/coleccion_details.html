<!-- Ubicaci√≥n: templates/movies/coleccion_details.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <title>{{ collection.title }} - Colecci√≥n</title>
    
    <!-- Reutiliza tus estilos y scripts principales -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'css/styles_movie.css' %}">
    <link rel="icon" type="image/png" href="{% static 'src/favicon.png' %}">

    <!-- FontAwesome, Google Fonts, etc. (igual que en index) -->
    <link 
        rel="stylesheet" 
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
        crossorigin="anonymous" 
        referrerpolicy="no-referrer" 
    />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <!-- :::::::::::::::::: NAV ::::::::::::::::: -->
    <nav class="navbar">
        <ul>
            <li><a href="{% url 'movie_list' %}">Pel√≠culas</a></li>
            <li><a href="{% url 'dynamic_genre_movies' %}">B√∫squeda por G√©neros</a></li>
            <li><a href="{% url 'series_list' %}">Series</a></li>
            <li><a href="{% url 'reviews' %}">Rese√±as</a></li>
            <li><a href="#contact-form" id="openFormLink">P√≠deme una peli!</a></li>
            <li><a href="{% url 'user_panel' %}">üé≠ Mi Panel</a></li>

            <li><a href="{% url 'collections_list' %}">Colecciones</a></li>
        </ul>
    </nav>

    <header>
        <!-- Banner/Encabezado -->
        <h1 class="header-link">Colecci√≥n: {{ collection.title }}</h1>
    </header>

    <main>
        <section>
            <div class="collection-detail" style="margin:20px 0;">
                {% if collection.cover_image %}
                    <img 
                        src="{{ collection.cover_image.url }}" 
                        alt="Portada de {{ collection.title }}" 
                        style="width:300px; max-height:300px; object-fit:cover; float:left; margin-right:20px;"
                    >
                {% endif %}
                <p>{{ collection.description }}</p>
            </div>

            <h2>Pel√≠culas en esta colecci√≥n</h2>
            <div class="movie-grid" style="display:flex; flex-wrap: wrap; gap:20px;">
                {% for pelicula in peliculas %}
                    <div class="movie-card" style="width: 200px; text-align: center;">
                        <a href="{% url 'movie_detail' pelicula.id %}">
                            {% if pelicula.poster_image %}
                                <img 
                                    src="{{ pelicula.poster_image.url }}" 
                                    alt="{{ pelicula.title }}" 
                                    style="width:100%; max-height:280px; object-fit:cover;"
                                >
                            {% else %}
                                <img 
                                    src="{% static 'images/default_poster.jpg' %}" 
                                    alt="Sin imagen" 
                                    style="width:100%; max-height:280px; object-fit:cover;"
                                >
                            {% endif %}
                            <h4>{{ pelicula.title }}</h4>
                        </a>
                    </div>
                {% empty %}
                    <p>No hay pel√≠culas en esta colecci√≥n.</p>
                {% endfor %}
            </div>
        </section>
    </main>

    <footer>
        <div class="container-footer">
            <div class="text-footer">&copy; 2024 By Will‚Ñ¢. Todos los derechos reservados.</div>
        </div>
    </footer>
</body>
</html>
